
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="This hands-on workshop is where you will learn about a number of AWS services involved with threat detection and response as we walk through real-world threat scenarios. Learn about the threat detection capabilities of Amazon GuardDuty, Amazon Macie and AWS Security Hub and the available response options. For each hands-on scenario, we review methods to detect and respond to threats using the following services: AWS CloudTrail, Amazon VPC flow logs, Amazon CloudWatch Events, Amazon Macie, AWS Lambda, Amazon Inspector, Amazon GuardDuty and Amazon Security Hub.">
      
      
      
        <meta name="author" content="aws-security-workshops@amazon.com">
      
      
        <link rel="canonical" href="https://automating-threat-detection.awssecworkshops.com/04-review-and-discussion/">
      
      <link rel="shortcut icon" href="../assets/images/aws-favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.4">
    
    
      
        <title>Module 4: Discussion - Scaling threat detection and response in AWS</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.15aa0b43.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.75751829.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../stylesheets/custom.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#module-4-review-and-discussion" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://automating-threat-detection.awssecworkshops.com/" title="Scaling threat detection and response in AWS" class="md-header-nav__button md-logo" aria-label="Scaling threat detection and response in AWS">
      
  <img src="../assets/images/aws_smile_logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            Scaling threat detection and response in AWS
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Module 4: Discussion
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/aws-samples/aws-scaling-threat-detection-workshop/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    aws-samples/aws-scaling-threat-detection-workshop
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://automating-threat-detection.awssecworkshops.com/" title="Scaling threat detection and response in AWS" class="md-nav__button md-logo" aria-label="Scaling threat detection and response in AWS">
      
  <img src="../assets/images/aws_smile_logo.png" alt="logo">

    </a>
    Scaling threat detection and response in AWS
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/aws-samples/aws-scaling-threat-detection-workshop/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    aws-samples/aws-scaling-threat-detection-workshop
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      



  <li class="md-nav__item">
    <a href=".." class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../01-environment-setup/" class="md-nav__link">
      Module 1: Environment Build
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../02-attack-simulation/" class="md-nav__link">
      Module 2: Attack Simulation
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../03-detection-and-remediation/" class="md-nav__link">
      Module 3: Detect & Respond
    </a>
  </li>

    
      
      
      


  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Module 4: Discussion
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Module 4: Discussion
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#architecture-overview" class="md-nav__link">
    Architecture Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-really-going-on" class="md-nav__link">
    What is Really Going On?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleanup" class="md-nav__link">
    Cleanup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finished" class="md-nav__link">
    Finished!
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../contribute/" class="md-nav__link">
      Contributing
    </a>
  </li>

    
      
      
      



  <li class="md-nav__item">
    <a href="../license/" class="md-nav__link">
      License
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#architecture-overview" class="md-nav__link">
    Architecture Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-is-really-going-on" class="md-nav__link">
    What is Really Going On?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleanup" class="md-nav__link">
    Cleanup
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finished" class="md-nav__link">
    Finished!
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/aws-samples/aws-scaling-threat-detection-workshop/edit/master/docs/04-review-and-discussion.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="module-4-review-and-discussion">Module 4: Review and Discussion</h1>
<p>In the last module we will have a short discussion and discuss exactly what occurred. We will also go over a number of questions to test your knowledge.</p>
<!--and then provide instructions on how to clean up the workshop environment to prevent future charges in your AWS account.
-->

<p><strong>Agenda</strong></p>
<ol>
<li>Review &amp; Discussion – 10 min</li>
<li>Questions – 10 min</li>
<li>Cleanup – 5 min</li>
</ol>
<h2 id="architecture-overview">Architecture Overview</h2>
<p>Below is a diagram of the overall workshop setup:
<img alt="Part 1 Diagram" src="../images/03-diagram-attack-v2.png" /></p>
<h2 id="what-is-really-going-on">What is Really Going On?</h2>
<p>In <strong>Module 1</strong> of the workshop you setup the initial components of your infrastructure including detective controls such as GuardDuty, Inspector, SecurityHub as well as simple notification and remediation pipeline. Some of the steps required manual configuration but you also ran a CloudFormation template which setup some of the components. </p>
<p>In <strong>Module 2</strong> you launched a second CloudFormation template that initiated the attack simulated by this workshop. The CloudFormation template created two EC2 instances. One instance (named <strong>Malicious Host</strong>) had an EIP attached to it that was added to your GuardDuty custom threat list. Although the <strong>Malicious Host</strong> is in the same VPC as the other instance, for the sake of the scenario (and to prevent the need to submit a penetration testing request) we acted as if it is on the Internet and represented the attacker's computer. The other instance (named <strong>Compromised Instance</strong>) was your web server and it was taken over by the <strong>Malicious Host</strong>. </p>
<p>In <strong>Module 3</strong> you investigated the attack, remediated the damage, and setup some automated remediations for future attacks.  </p>
<p><strong>Here is what occurred in the attack:</strong></p>
<ol>
<li>
<p>There are two instances created by the Module 2 CloudFormation template. They are in the same VPC but different subnets. The <strong>Malicious Host</strong> represents the attacker which we pretend is on the Internet. The Elastic IP on the <strong>Malicious Host</strong> is in a custom threat list in GuardDuty. The other instance named <strong>Compromised Instance</strong> represents the web server that was lifted and shifted into AWS.</p>
</li>
<li>
<p>Although company policy is that only key-based authentication should be enabled for SSH, at some point password authentication for SSH was enabled on the <strong>Compromised Instance</strong>.  This misconfiguration is identified in the Inspector scan that is triggered from the GuardDuty finding.</p>
</li>
<li>
<p>The <strong>Malicious Host</strong> performed a brute force SSH password attack against the <strong>Compromised Instance</strong>. The brute force attack is designed to be successful.</p>
<div class="admonition info">
<p class="admonition-title"><strong>GuardDuty Finding</strong>: UnauthorizedAccess:EC2/SSHBruteForce</p>
</div>
</li>
<li>
<p>The SSH brute force attack was successful and the attacker was able to log in to the <strong>Compromised Instance</strong>.</p>
<div class="admonition info">
<p class="admonition-title">Successful login is confirmed in CloudWatch Logs (/threat-detection-wksp/var/log/secure).</p>
</div>
</li>
</ol>
<!-- 5. The EC2 Instance that is created in the **Module** 2 CloudFormation template disabled default encryption on the **Data** bucket.  In addition the CloudFormation template made the **Data** bucket public.  This is used for the Macie part of the investigation in Module 3. We pretend that the attacker made the bucket public and removed the default encryption from the bucket.

    !!! info "**Macie Alert**: S3 Bucket IAM policy grants global read rights."
-->
<ol>
<li>
<p>The Compromised Instance also has a cron job that continuously pings the Malicious Host to generate a GuardDuty finding based off the custom threat list.</p>
<div class="admonition info">
<p class="admonition-title"><strong>GuardDuty Finding</strong>: UnauthorizedAccess:EC2/MaliciousIPCaller.Custom</p>
</div>
</li>
<li>
<p>The API Calls that generated the API findings come from the <strong>Malicious Host</strong>. The calls use the temp creds from the IAM role for EC2 running on the <strong>Malicious Host</strong>. The GuardDuty findings are generated because the EIP attached to the <strong>Malicious Host</strong> is in a custom threat list. </p>
<div class="admonition info">
<p class="admonition-title"><strong>GuardDuty Finding</strong>: Recon:IAMUser/MaliciousIPCaller.Custom or <strong>GuardDuty Finding</strong>: UnauthorizedAccess:IAMUser/MaliciousIPCaller.Custom</p>
</div>
</li>
<li>
<p>A number of CloudWatch Events Rules are evoked by the GuardDuty findings and then these trigger various services.</p>
<ol>
<li><strong>CloudWatch Event Rule</strong>: The generic GuardDuty finding invokes a CloudWatch Event rule which triggers SNS to send an email.
<!-- 2. **CloudWatch Event Rule**: The generic Macie alert invokes a CloudWatch Event rule which triggers SNS to send an email. --></li>
<li><strong>CloudWatch Event Rule</strong>: The SSH brute force attack finding invokes a CloudWatch Event rule which triggers a Lambda function to block the attacker IP address of the attacker via a NACL as well as a Lambda function that runs an Inspector scan on the EC2 instance.</li>
<li><strong>CloudWatch Event Rule</strong>: The Unauthorized Access Custom MaliciousIP finding invokes a CloudWatch Event rule which triggers a Lambda function to block the IP address of the attacker via a NACL.</li>
</ol>
</li>
</ol>
<h2 id="cleanup">Cleanup</h2>
<p>In order to prevent charges to your account we recommend cleaning up the infrastructure that was created. If you plan to keep things running so you can examine the workshop a bit more please remember to do the cleanup when you are done. It is very easy to leave things running in an AWS account, forgot about it, and then accrue charges. </p>
<div class="admonition info">
<p class="admonition-title">If you are using this in an instructor led session, with the AWS Event Engine you do not need to run the cleanup steps</p>
</div>
<div class="admonition info">
<p class="admonition-title">If you are running this in your own account. You will need to manually delete some resources before you delete the CloudFormation stacks so please do the following steps in order.</p>
</div>
<ol>
<li>
<p>Delete the Inspector objects created for the workshop.</p>
<ul>
<li>Go to the <a href="https://us-west-2.console.aws.amazon.com/inspector" target="_blank">Amazon Inspector</a> console.</li>
<li>Click on <strong>Assessment targets</strong> in the navigation pane on the left.</li>
<li>Delete all that start with <strong>threat-detection-wksp</strong>.</li>
</ul>
</li>
<li>
<p>Delete the IAM Role for the compromised EC2 instance and the Service-Linked Role for Inspector (if you didn't already have this Role created).</p>
<ul>
<li>Go to <a href="https://console.aws.amazon.com/iam/" target="_blank">AWS IAM</a> console.</li>
<li>Click on <strong>Roles</strong></li>
<li>Search for the role named <strong>threat-detection-wksp-compromised-ec2</strong>.</li>
<li>Click the check box next to it and click <strong>Delete</strong>.</li>
<li>Repeat the steps above for the role named <strong>AWSServiceRoleForAmazonInspector</strong>.</li>
</ul>
</li>
<li>
<p>Delete all three S3 buckets created by the Module 1 CloudFormation template (the buckets that start with <strong>threat-detection-wksp</strong> and end with <strong>-data</strong>, <strong>-threatlist</strong> and <strong>-logs</strong>)</p>
<ul>
<li>Go to <a href="https://s3.console.aws.amazon.com/s3/home?region=us-west-2" target="_blank">Amazon S3</a> console.</li>
<li>Click on the appropriate bucket.</li>
<li>Click <strong>Delete Bucket</strong>.</li>
<li>Copy and paste the name of the bucket (this is an extra verification that you actually want to delete the bucket).</li>
<li>Repeat the steps above for all three buckets.</li>
</ul>
</li>
<li>
<p>Delete Module 1 and 2 CloudFormation stacks (<strong>ThreatDetectionWksp-Env-Setup</strong> and <strong>ThreatDetectionWksp-Attacks</strong>).</p>
<ul>
<li>Go to the <a href="https://us-west-2.console.aws.amazon.com/cloudformation/home?region=us-west-2#/stacks?filter=active" target="_blank">AWS CloudFormation</a> console.</li>
<li>Select the appropriate stack.</li>
<li>Select <strong>Action</strong>.</li>
<li>Click <strong>Delete Stack</strong>.</li>
<li>Repeat the steps above for each stack.</li>
</ul>
<div class="admonition info">
<p class="admonition-title">You do not need to wait for the first stack to delete before you delete the second one.</p>
</div>
</li>
<li>
<p>Delete the GuardDuty custom threat list and disable GuardDuty (if you didn't already have it configured before the workshop)</p>
<ul>
<li>Go to the <a href="https://us-west-2.console.aws.amazon.com/guardduty/" target="_blank">Amazon GuardDuty</a> console.</li>
<li>Click on <strong>Lists</strong> on the left navigation.</li>
<li>Click the <strong>X</strong> next to the threat list that starts with <strong>Custom-Threat-List</strong>.</li>
<li>Click <strong>Settings</strong> in the navigation pane on the left navigation.</li>
<li>Click the check box next to <strong>Disable</strong>.</li>
<li>Click <strong>Save settings</strong> and then click <strong>Disable</strong> in the pop-up box.</li>
</ul>
</li>
<li>
<p>Disable AWS Security Hub</p>
<ul>
<li>Go to the <a href="https://us-west-2.console.aws.amazon.com/securityhub/home?region=us-west-2#/findings" target="_blank">AWS Security Hub</a> console.</li>
<li>Click on <strong>Settings</strong> on the left navigation.</li>
<li>Click the <strong>General</strong> on the top navigation.</li>
<li>Click <strong>Disable AWS Security Hub</strong>.</li>
</ul>
</li>
<li>
<p>Delete the manual CloudWatch Event Rule you created and the CloudWatch Logs that were generated.</p>
<ul>
<li>Go to the <a href="https://us-west-2.console.aws.amazon.com/cloudwatch" target="_blank">AWS CloudWatch</a> console.</li>
<li>Click on <strong>Rules</strong> in the navigation pane on the left.</li>
<li>Click the radio button next <strong>threat-detection-wksp-guardduty-finding-maliciousip</strong>.</li>
<li>Select <strong>Action</strong> and click <strong>Delete</strong>.</li>
<li>Click on <strong>Logs</strong> in the navigation pane on the left.</li>
<li>Click the radio button next to <strong>/aws/lambda/threat-detection-wksp-inspector-role-creation</strong>.</li>
<li>Select <strong>Action</strong> and click <strong>Delete log group</strong> and then click <strong>Yes, Delete</strong> in the pop-up box.</li>
<li>Repeat for: <ul>
<li><strong>/aws/lambda/threat-detection-wksp-remediation-inspector</strong></li>
<li><strong>/aws/lambda/threat-detection-wksp-remediation-nacl</strong></li>
<li><strong>/threat-detection-wksp/var/log/secure</strong> </li>
</ul>
</li>
</ul>
</li>
<li>
<p>Delete the SNS subscription that was created when you subscribed to SNS Topic.</p>
<ul>
<li>Go to the <a href="https://us-west-2.console.aws.amazon.com/sns" target="_blank">AWS SNS</a> console.</li>
<li>Click on <strong>Subscriptions</strong> on the left navigation.</li>
<li>Select the check box next to the subscription that shows your e-mail as the Endpoint and has <strong>threat-detection-wksp</strong> in the <strong>Subscription ARN</strong>.</li>
<li>Select <strong>Action</strong> and then click <strong>Delete subscriptions</strong></li>
</ul>
</li>
</ol>
<!--8.  Disable Macie (if you didn't already have Macie enabled before the workshop).
    * Go the <a href="https://mt.us-west-2.macie.aws.amazon.com/" target="_blank">Amazon Macie</a> console.
    * In the upper right-hand corner select the down arrow to the left of the Region and select **Macie General Settings**.
    * Check the two boxes and click **Disable Amazon Macie**-->

<h2 id="finished">Finished!</h2>
<p>Congratulations on completing this workshop! This is the workshop's permanent home, so feel free to revisit as often as you'd like.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../03-detection-and-remediation/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Module 3: Detect & Respond
              </div>
            </div>
          </a>
        
        
          <a href="../contribute/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Contributing
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            <a href="https://aws.amazon.com/privacy/" target="_blank">Privacy</a> | <a href="https://aws.amazon.com/terms/" target="_blank">Site terms</a> | &copy; 2020, Amazon Web Services, Inc. or its affiliates. All rights reserved.
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://awssecworkshops.com" target="_blank" rel="noopener" title="awssecworkshops.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M280.37 148.26L96 300.11V464a16 16 0 0016 16l112.06-.29a16 16 0 0015.92-16V368a16 16 0 0116-16h64a16 16 0 0116 16v95.64a16 16 0 0016 16.05L464 480a16 16 0 0016-16V300L295.67 148.26a12.19 12.19 0 00-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 00-12-12h-56a12 12 0 00-12 12v72.61L318.47 43a48 48 0 00-61 0L4.34 251.47a12 12 0 00-1.6 16.9l25.5 31A12 12 0 0045.15 301l235.22-193.74a12.19 12.19 0 0115.3 0L530.9 301a12 12 0 0016.9-1.6l25.5-31a12 12 0 00-1.7-16.93z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://aws.amazon.com/security/" target="_blank" rel="noopener" title="aws.amazon.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M466.5 83.7l-192-80a48.15 48.15 0 00-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://twitter.com/awssecurityinfo?lang=en" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://aws.amazon.com/blogs/security/" target="_blank" rel="noopener" title="aws.amazon.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M400 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM112 416c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm157.533 0h-34.335c-6.011 0-11.051-4.636-11.442-10.634-5.214-80.05-69.243-143.92-149.123-149.123-5.997-.39-10.633-5.431-10.633-11.441v-34.335c0-6.535 5.468-11.777 11.994-11.425 110.546 5.974 198.997 94.536 204.964 204.964.352 6.526-4.89 11.994-11.425 11.994zm103.027 0h-34.334c-6.161 0-11.175-4.882-11.427-11.038-5.598-136.535-115.204-246.161-251.76-251.76C68.882 152.949 64 147.935 64 141.774V107.44c0-6.454 5.338-11.664 11.787-11.432 167.83 6.025 302.21 141.191 308.205 308.205.232 6.449-4.978 11.787-11.432 11.787z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.93c04032.min.js"></script>
      <script src="../assets/javascripts/bundle.83e5331e.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>